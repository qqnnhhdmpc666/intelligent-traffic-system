# 智慧交通调度系统实验环境分析

## 一、实验环境构成

### 1. 硬件环境
- **边缘节点**：树莓派 4B
  - 部署 YOLOv8n 轻量级模型
  - 处理 720P 视频流实时车辆检测
  - 计算交通流量并通过 MQTT 传输数据

- **云端服务器**：
  - 运行 FastAPI 后端服务
  - 部署 D-KSPP 路径规划算法核心
  - 处理边缘节点数据并进行全局路径优化

- **客户端**：
  - Java 桌面应用（基于 Swing 框架）
  - 实时路况展示与路径查询
  - 支持多用户并发操作

### 2. 软件环境
- **Python 生态**：
  - FastAPI：高性能后端框架
  - YOLOv8：轻量级目标检测模型
  - MQTT 客户端：边缘节点数据传输
  - NumPy、Pandas：数据处理
  - Matplotlib：实验结果可视化

- **Java 环境**：
  - Swing 框架：桌面应用界面
  - WebSocket 客户端：实时路况推送
  - JSON 解析库：数据处理

- **通信协议**：
  - MQTT：边缘节点 → 云端（低延迟数据传输）
  - WebSocket：云端 → 客户端（实时路况推送）
  - RESTful API：客户端 → 云端（路径查询请求）

## 二、实验参数设置

### 1. 测试用例设计
- **路径长度**：
  - 长距离路径（5组）："A"→"Z"、"B"→"Y"、"C"→"X"、"D"→"W"、"E"→"V"
  - 中距离路径（5组）："F"→"K"、"G"→"N"、"H"→"O"、"I"→"L"、"J"→"M"

- **拥堵级别**：
  - 轻度拥堵：30% 边受影响，拥堵因子 2.0-3.0
  - 中度拥堵：50% 边受影响，拥堵因子 3.0-4.5
  - 重度拥堵：75% 边受影响，拥堵因子 5.0-7.0
  - 极端拥堵：90% 边受影响，拥堵因子 6.5-9.0

### 2. 算法参数
- **K 短路算法**：K=25（保证路径多样性）
- **Softmax 温度系数**：0.08（平衡探索与利用）
- **路权计算模型**：
  ```
  w(e) = 0.1·L(e)/S_max(e) + 0.9·T_current(e)
  ```
  - α=0.1：距离权重
  - β=0.9：实时拥堵权重

- **缓存机制**：
  - 图结构缓存：300秒有效期
  - 路径结果缓存：1000条容量，10分钟过期

## 三、实验环境合理性分析

### 1. 场景覆盖全面性
- **路径多样性**：覆盖长距离和中距离场景，模拟不同出行需求
- **拥堵程度**：从轻度到极端，覆盖真实交通的各种拥堵状况
- **算法对比**：与传统 SP（最短路径）算法对比，验证优化效果

### 2. 参数设置科学性
- **K 值选择**：25 是经过多次优化的结果，既保证路径多样性，又不会过度增加计算负担
- **温度系数**：0.08 平衡了路径探索（多样性）和最优路径选择（效率）
- **路权系数**：β=0.9 更重视实时拥堵，符合实际交通中拥堵对行程时间的显著影响
- **缓存策略**：合理的缓存时间和容量，减少重复计算，提升系统响应速度

### 3. 评估指标完整性
- **时间改进**：直接反映用户体验，衡量行程时间减少程度
- **效率改进**：反映路网整体性能，衡量交通流量分布优化效果
- **路径长度**：确保优化路径不会过长，避免绕行过多
- **拥堵度**：评估路径的拥堵程度，确保选择拥堵较轻的路径
- **处理时间**：评估算法实时性，确保在实际应用中响应迅速

### 4. 实验结果可靠性
- **数据完整性**：10组测试用例 × 4个拥堵级别 = 40组完整实验数据
- **结果一致性**：在重度拥堵场景下稳定达到 5.10% 的效率改进
- **对比基准**：与传统 SP 算法对比，验证 D-KSPP 算法的优势
- **可重复性**：实验参数固定，场景生成逻辑明确，结果可重复验证

## 四、实验环境优势

1. **边缘-云协同架构**：
   - 边缘节点负责实时感知，减少数据传输延迟
   - 云端负责全局优化，利用集中计算能力

2. **轻量级模型部署**：
   - YOLOv8n 模型适合树莓派等资源受限设备
   - 720P 视频流处理满足实时性要求

3. **多协议通信**：
   - MQTT 适合低带宽、不稳定网络环境下的边缘数据传输
   - WebSocket 适合客户端实时路况推送

4. **可扩展性**：
   - 支持中小城市核心路网（约50个交叉路口）的智能调度
   - 硬件成本较传统方案降低60%

## 五、结论

本实验环境设置**科学合理**，具体表现在：

1. **硬件选择恰当**：树莓派 4B 作为边缘节点，平衡了性能与成本；云端服务器提供足够计算能力。

2. **软件生态完整**：Python 生态支持快速开发后端和算法；Java 环境提供稳定的客户端体验。

3. **参数设置优化**：经过多次实验调整的算法参数，在保证计算效率的同时，最大化路径规划效果。

4. **场景覆盖全面**：测试用例和拥堵级别的设计，充分模拟了真实交通的各种场景。

5. **评估体系完善**：多维度的评估指标，全面反映算法在不同场景下的性能。

实验结果验证了 D-KSPP 算法在重度拥堵场景下的有效性（5.10% 效率改进），证明了实验环境的合理性和科学性。该环境不仅适合算法验证，也具备实际道路部署潜力。

## 六、实验数据概览

| 拥堵场景 | SP算法时间(s) | D-KSPP算法时间(s) | 时间改进(%) | 效率改进(%) |
|---------|-------------|-----------------|------------|------------|
| 轻度     | 79.29       | 79.29           | 0.00       | 0.00       |
| 中度     | 146.85      | 146.85          | 0.00       | 0.00       |
| 重度     | 308.37      | 293.39          | 4.85       | 5.10       |
| 极端     | 549.64      | 531.07          | 3.38       | 3.50       |

**注**：数据来源于 `congestion_analysis_20260120_134557.json` 文件，是最终验证实验的结果。